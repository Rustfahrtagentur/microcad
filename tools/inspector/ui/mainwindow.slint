import { ListView, VerticalBox } from "std-widgets.slint";




export struct VM_Argument {
    id: string,
    value: string,
}

export struct VM_Creator {
    symbol_name: string,
}

export struct VM_Item {
    depth: int,
    element: string,
    src_ref: string,
    creator: VM_Creator,
}



component ListItem inherits Rectangle {
    in property <VM_Item> item;
    in property <int> index: 0;

    height: 40px;
    border-radius: 4px;
    background: Math.mod(self.index, 2) == 0 ? #f0f0f0 : #e0e0e0;
    Rectangle {
        // Hover effect
        background: touch-area.has-hover ? #cce5ff : transparent;
        width: root.width;
        height: root.height;
    }

    HorizontalLayout {
        width: root.width;
        height: root.height;

        Rectangle {
            width: item.depth * 32px;
        }

        Text {
            text: item.element;
            vertical-alignment: center;
            horizontal-alignment: left;
            padding-left: 10px;
            font-size: 16px;
            font-weight: 600;
        }
    }

    touch-area := TouchArea {
        width: root.width;
        height: root.height;
    }
}

export component MainWindow inherits Window {
    default-font-family: "Jetbrains Mono";
    width: 1024px;
    height: 1024px;

    in property <[VM_Item]> view-model;

    default-font-family: "Jetbrains Mono";
    preferred-width: 1024px;
    preferred-height: 1024px;

    list-view := ListView {
        width: parent.width;
        height: parent.height;
        mouse-drag-pan-enabled: true;
        for item[index] in root.view-model: ListItem {
            width: list-view.viewport-width;
            item: item;
            index: index;
        }
    }
}
