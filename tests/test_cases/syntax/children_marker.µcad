use __builtin::*;

// Define a part `circle_union` with a radius as a parameter
// If creates an algorithm node with a circle node as a child
// The `@children` marker is used to display that all children of the part will be added to the algorithm node
op CircleUnion(radius: Scalar) {
    {
        geo2d::Circle(radius);
        @children;
    }.ops::union();
}

// Create a circle node with two children
a = {
    geo2d::Circle(2.0);
    geo2d::Circle(3.0);
}.ops::translate(x = 1.0, y = 0.0, z = 0.0);

// Create a circle_union node with three children
{
    geo2d::Circle(5.0);
    geo2d::Circle([6.0, 7.0]); // Test multiplicity
    a;
}.CircleUnion(4.0);

// a is instantiated a second time, make sure nodes are deep copied
a;
