use std::ops::*;
use std::geo2d::*;
use std::math::*;

part buffer_stand(
    size = 5.25in, 
    width = 5.875in, 
    inner_width = 4.25in
) {
    base = (circle(d = w) & rect(w = width, h = size / 2))
        .extrude(4.0in);

    side = (line(w = size/2) | circle(d = 1.5in, x = -3.25in))
        .hull()
        .extrude(w)
        .orient(X)
        .translate(x = -w / 2);

    front = {
        w = inner_width / 2;
        circle(r = 0.5in, x = [-w,w] - 0.5in) | line(x = -w, y = -4.0in, w);
    }
    .hull()
    .extrude(w)
    .orient(Y)
    .translate(y = -w / 4, z = 0.75in);
    
    bearing = (rect(w = 1.25in, h = w - 1in) | rect(w = 0.5in, h = w))
        .revolve()
        .orient(X)
        .translate(z = 3.25in);

    mount = rect(h = inner_width - 3.5in, w = 1.5in, y = [2.0, -2.0]in)
        .revolve()
        .orient(X)
        .translate(z = 3.25in);

    bottom_bar = (circle(d = 0.15in, x = -1.35in) | line(h = 0.5in))
        .hull()
        .extrude(w)
        .orient(X)
        .translate(x = -w / 2);

    (side - front) & base | (base & bottom_bar) | mount - bearing;
}

buffer_stand();
