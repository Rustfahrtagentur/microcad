-- Test --
  first_version
  ../books/tutorials/src/lego_brick/part/first.md:10

-- Code --

 1: use std::ops::*;
 2: use std::geo2d::*;
 3: 
 4: const SPACING = 8mm;
 5: 
 6: sketch Base(width: Length, height: Length) {
 7:     thickness = 1.2mm;
 8:     frame = Frame(width, height, thickness);
 9:     struts = Ring(outer_d = 6.51mm, inner_d = 4.8mm)
10:         .translate(y = [0..2] * SPACING)
11:         .align();
12:     frame | struts;
13: }
14: 
15: use Rect as Cap;
16: 
17: sketch Knobs() {
18:     center = (x = [0..1] * SPACING, y = [0..3] * SPACING);
19:     Circle(diameter = 4.8mm, center)
20:         .align();
21: }
22: 
23: part LegoBrick(base_height = 9.6mm) {
24:     width = 15.8mm;
25:     height = 31.8mm;
26:     top_thickness = 1.0mm;
27: 
28:     base = Base(width, height)
29:         .extrude(base_height);
30: 
31:     cap = Cap(width, height)
32:         .extrude(top_thickness)
33:         .translate(z = base_height - top_thickness);
34: 
35:     knobs = Knobs()
36:         .extrude(1.7mm)
37:         .translate(z = base_height);
38: 
39:     // Combine all components
40:     base | cap | knobs;
41: }
42: 
43: LegoBrick();

-- Output --
-- Errors --
error: Symbol Cap not found.
  ---> <FROM STR>:31:11
     |
  31 |     cap = Cap(width, height)
     |           ^^^^^^^^^^^^^^^^^^
     |
error: Unknown method `extrude`
  ---> <FROM STR>:32:10
     |
  32 |         .extrude(top_thickness)
     |          ^^^^^^^
     |
error: Unknown method `translate`
  ---> <FROM STR>:33:10
     |
  33 |         .translate(z = base_height - top_thickness);
     |          ^^^^^^^^^
     |
-- Test Result --
FAIL
