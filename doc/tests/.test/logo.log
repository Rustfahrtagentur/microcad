-- Test --
  logo
  ../doc/tests/logo.md:5

-- Code --

 1: mod microcad {
 2:     use std::geo2d::*;
 3:     use std::ops::*;
 4: 
 5:     sketch HalfCircle(radius: Length) {
 6:         Circle(radius) - Rect(size = radius * 2).translate(y = radius );
 7:     }
 8: 
 9:     sketch IconElement( radius: Length ) {
10:         c = HalfCircle(radius);
11:         r = Rect(width = radius, height = radius * 2);
12:         c.translate(y = radius) | r.translate(x = -radius/2 );
13:     }
14: 
15:     pub sketch Icon( radius: Length ) {
16:         prop gap = radius / 5;
17:         IconElement(radius)
18:             .translate(x = -radius-gap, y = 0mm, z = 0mm)
19:             .rotate(z = [0째, -90째, -180째, -270째]); 
20:     }
21: 
22:     pub sketch Micro( radius: Length, thickness: Length ) {
23:         u = HalfCircle(radius) - HalfCircle(radius-thickness);
24:         r_l = Rect(width = thickness, height = radius * 3);
25:         r_r = Rect(width = thickness, height = radius * 2);
26:         u.translate(y = radius/2)
27:             | r_l.translate(x = -(radius-thickness/2) ) 
28:             | r_r.translate(x = radius-thickness/2, y=radius/2 );
29:     }
30: }
31: 
32: use std::ops::*;
33: 
34: radius = 1cm;
35: thickness = 4mm;
36: icon = microcad::Icon(radius);
37: icon;
38: 
39: microcad::Micro(radius, thickness).translate(x=radius*2+gap, y=-radius/2);
40: 

-- Output --
-- Errors --
error: Symbol gap not found while resolving.
  ---> <FROM STR>:39:57
     |
  39 | microcad::Micro(radius, thickness).translate(x=radius*2+gap, y=-radius/2);
     |                                                         ^^^
     |
Symbol gap not found.-- Test Result --
FAIL
