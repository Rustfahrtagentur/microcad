-- Test --
  pre_init_code
  ../doc/structure/workbench.md:172

-- Code --

sketch wheel(radius: Length) {
    // init code
    const FACTOR = 2.0;

    // initializer
    init(diameter: Length) { into_radius(radius); }

    // function
    fn into_radius( diameter: Length ) {
        // use constant FACTOR from init code
        return diameter / FACTOR;
    }

    // set property diameter and use FACTOR from init code
    prop diameter = radius * FACTOR;
    
    // code body
    std::geo2d::circle(radius);
}

__builtin::assert(wheel(5cm).radius == 5cm);
__builtin::assert(wheel(5cm).diameter == 10cm);

